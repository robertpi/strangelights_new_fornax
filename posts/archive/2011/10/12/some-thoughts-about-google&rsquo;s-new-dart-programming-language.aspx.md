---
title: "Some thoughts about Google&rsquo;s new Dart programming language"
date: 2011-10-12T22:51:01.5730000
draft: false
---

<p>Ever since it was announced that Dart would be announced at GOTO conference I’ve been wonder what dart would be like. I thought I’d take the time put down my initial thoughts here.</p>  <p><strong>Is there a need for another language?</strong></p>  <p><a href="http://www.itwriting.com/blog/5007-google-offers-the-web-a-new-language-called-dart-but-why.html">Tim Anderson poses the question nicely here</a>, so I thought I’d have a stab at answering it. There are a <a href="http://en.wikipedia.org/wiki/List_of_programming_languages">lot of programming languages in the world</a>, so there would seem to be limited space for a new one. However, I think Google are creating this language for two reasons:</p>  <p>1) they want improve the web by replacing JavaScript with something more sensible.</p>  <p>2) they want to get themselves and others off Java.</p>  <p>Those are two fairly bold statements, so I’ll try and justifier them, taking each in turn. </p>  <p>The first one is fairly easy to justify from the point of view this is Google’s motive for creating the language as we have the <a href="https://gist.github.com/1208618">leaked memo</a>. But it’s probably worth talking about whether replacing JavaScript is a good thing. I’m not a huge JavaScript fan, I do think JavaScript has showed itself to flexible enough to be extended in interesting ways by library writers, but ultimate that is enough for a language that has some huge glaring floors. So, yes a JavaScript replacement is a good thing in my opinion. However, there’s also the question of how feasible this is. At the moment Dart relies on being crossed compiled to JavaScript, which isn’t a <a href="http://jashkenas.github.com/coffee-script/">hugely original idea</a>. It’s true that Dart also runs well on a server, and this is enough to let Google claim <em><a href="http://www.dartlang.org/docs/technical-overview/index.html">Developers have not been able to create homogeneous systems that encompass both client and server, except for a few cases such as Node.js and Google Web Toolkit (GWT)</a></em>. I think that statement is completely untrue. There are many systems, including, but not limited to, <a href="http://www.websharper.com/">WebSharper</a> (my personal favorite), <a href="http://projects.nikhilk.net/ScriptSharp">ScriptSharp</a>, <a href="http://happstack.com/index.html">HappStack</a> (thanks to <a href="http://jaspervdj.be/blaze/">BlazeHtml</a>), that let developer's create systems in a homogeneous way. All use a cross compiling another language to JavaScript, the same approach that Dart will take at least initially. The big benefit of Dart would be if Google get Dart adopted by all browser venders as a language that executes in the browser. As they already control one browser it’s fairly certain it’ll be making it’s way into that soon, but the real question is will other vendors follow suite. As Dart is open source, <em>theoretically</em> it wouldn’t pose too much of a problem for open source browser like Firefox to integrate it, although who knows how Mozilla will feel about Google trying to push them around. And I think one can safely assume it won’t be at the top of the IE teams todo list. So, although a JavaScript replacement is needed, in my opinion at least, its doubtful that Dart will offer anything better than what’s already available, at least not for a very long time filled with Google lobbying the other browser vendors. Also if Dart is to replace JavaScript it might have been nice to aim a little higher and replace it with something better (see my thoughts on this in the section: <em>What is Dart like as a language?</em>).</p>  <p>To try and justify the second statement: it’s fairly well document that Google uses a lot of Java internally. It’s also fairly well document that <a href="http://www.reuters.com/article/2011/09/21/us-google-oracle-idUSTRE78K3XL20110921">Google are having a big spat with Oracle</a>, the new owners of Java. So it’s not a great leap of imagination to think that Google would be interested in moving away from Java. Problem is where would they go? Clearly C# is out, as Google detest Microsoft as least as much as they do Oracle. So while there is lots of other languages out there they could use, there’s nothing out there that really leaps as the Java replacement (at least if you don’t want to go with C#). So my guess is that Google hope to sweep up programmers who are unhappy with both Microsoft and Google as well as get themselves off Java. </p>  <p><strong>What is Dart like as a language?</strong></p>  <p>Well for me it’s a disappointment. I guess the biggest disappointment is that the basic unit of code is a statement, rather than expression, meaning it is an imperative rather than a functional language. This is a fundamental design choice that can be altered, the rest of the remarks I’m going to make probably could be fixed in one way or another but this can’t be. So why might it have been a good idea to make the language expression orientated rather then statement orientated? Well much of the progress in modern object orientated programming has been inspired by functional programming, here I’m think of <a href="http://msdn.microsoft.com/en-us/netframework/aa904594">Linq</a> and <a href="http://jquery.com/">jquery</a> as the prime examples but there are probably others. While these frameworks work well, they are somewhat limited by being built on top of statement orientated languages. For example one of the criticisms of Linq I hear most often is that Linq queries often end up being monolithic blocks that are difficult to pull apart and once they get bigger than, say, five lines, they become very difficult to understand. I’d contrast this to F# pipeline expressions, basically the equivalent, but in an expression ordinated language, which are easy to understand and to pull apart and refactor.</p>  <p>Apart from being imperative, Dart also seems very conservative, lacking useful features. This is not that surprising for a first cut of the language, but all the same, there’s nothing that leaps our and says use me for your next project. The things that I’d like to see that are missing are (and admittedly I haven’t spend as much time as I’d like looking at the language as I’d like so I could be wrong on any of these points):</p>  <p>- Tuples and currying. These greatly improve compositionality in a language, although it is good to see there are functions as first class values</p>  <p>- No immutability. And unless I missed it way to declare a value as being read-only, let alone nice a nice easy way to create a modified copy of a value.</p>  <p>- No pattern matching. Just makes so many difficult problems easy, hard to see why you wouldn’t put it into a language.</p>  <p>One good choice I think they made is that all concurrency must use actor model type mechanism called isolates. However, I do have one small quibble with this. With no immutability in the language how will they archive this isolation? Surely the actor will leak references all over the place. I could be wrong, but I strongly suspect this has been fixed with lots of fairy dust.</p>  <p>Google have said they are hoping for “rapid evolution” of Dart so it will be interesting to see what features do get added.</p>  <p><strong>What is Dart made of?</strong></p>  <p>As Dart is open source I thought it might be nice to peak under the covers and take a look at what dart is made up of. Once past the fairly broke process of installing depot_tools, so I could check out all the sources, it was fairly easy to do this using, yes you guessed it, an F# script. But before we dig into the numbers it’s probably best take a look at the top level of the source tree (only give a comment where it doesn’t seem obvious what the directory is for):</p>  <p>- client – a set of development tools for Dart    <br />- compiler     <br />- corelib – the core library for Dart     <br />- editor – (presumably, as there’s no read me) an editor for Dart     <br />- language – a parse based on antlrworks     <br />- runtime  <br />- samples     <br />- tests     <br />- third_party     <br />- tools – not sure what this is about, seems to have some build stuff and syntax highlighting for vim</p>  <p>The file type counts are:</p>  <table><thead>     <tr>       <td>Extension</td>        <td>Count</td>        <td>Percent</td>     </tr>   </thead><tbody>     <tr>       <td>.dart</td>        <td>3053</td>        <td>16.989427</td>     </tr>      <tr>       <td>.py</td>        <td>2993</td>        <td>16.655537</td>     </tr>      <tr>       <td>.java</td>        <td>2791</td>        <td>15.531441</td>     </tr>      <tr>       <td>.js</td>        <td>1059</td>        <td>5.893155</td>     </tr>      <tr>       <td>.html</td>        <td>1007</td>        <td>5.603784</td>     </tr>      <tr>       <td>.pm</td>        <td>895</td>        <td>4.980523</td>     </tr>      <tr>       <td>.gif</td>        <td>585</td>        <td>3.255426</td>     </tr>      <tr>       <td>.h</td>        <td>564</td>        <td>3.138564</td>     </tr>      <tr>       <td>.pl</td>        <td>543</td>        <td>3.021703</td>     </tr>      <tr>       <td> </td>        <td>472</td>        <td>2.626600</td>     </tr>      <tr>       <td>.cc</td>        <td>469</td>        <td>2.609905</td>     </tr>      <tr>       <td>.txt</td>        <td>359</td>        <td>1.997774</td>     </tr>   </tbody></table>  <p> </p>  <p>If we exclude the third_part directory:</p>  <table><thead>     <tr>       <td>Extension</td>        <td>Count</td>        <td>Percent</td>     </tr>   </thead><tbody>     <tr>       <td>.dart</td>        <td>3053</td>        <td>46.145707</td>     </tr>      <tr>       <td>.java</td>        <td>1756</td>        <td>26.541717</td>     </tr>      <tr>       <td>.gif</td>        <td>483</td>        <td>7.300484</td>     </tr>      <tr>       <td>.cc</td>        <td>193</td>        <td>2.917170</td>     </tr>      <tr>       <td>.png</td>        <td>143</td>        <td>2.161427</td>     </tr>      <tr>       <td>.h</td>        <td>110</td>        <td>1.662636</td>     </tr>      <tr>       <td>.tlog</td>        <td>99</td>        <td>1.496372</td>     </tr>      <tr>       <td>.properties</td>        <td>79</td>        <td>1.194075</td>     </tr>      <tr>       <td>.py</td>        <td>78</td>        <td>1.178960</td>     </tr>      <tr>       <td>.obj</td>        <td>43</td>        <td>0.649940</td>     </tr>      <tr>       <td>.xml</td>        <td>41</td>        <td>0.619710</td>     </tr>   </tbody></table>  <p> </p>  <p>So we can see Dart is overwhelmingly written in Dart. Notable exceptions to this are the runtime directory which seems to be all C or C++ and compiler and editor which are java. The compiler readme file does contain a vague hint that it’s just a '”placeholder”, so presumably it’ll be bootstrapped at some point. It’s also worth noting that that third-party dir does seem to contain some stuff which isn’t actually used, for example I can see, closure_compiler_src but no evidence of Clusure being used.</p>  <p><strong>Conclusion</strong></p>  <p>Dart isn’t a language that leaps out at me and says use me for your next project, and that’s the key disappointment for me. However, politically, and by that I mean coming  from Google and aiming to replace JavaScript, I think it’s in an interesting position, so  for that reason I’ll be following the project.</p>

### Feedback:

*Feedback was imported from my only blog engine, it's no longer possible to post feedback here.*

**re: Some thoughts about Google’s new Dart programming language - [Art Scott](http://www.semasopgraphic.com/)**

Thanks Robert.<br />Knowledgeable and perspicacious.

